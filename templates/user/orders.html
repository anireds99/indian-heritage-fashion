{% extends "base.html" %}

{% block title %}My Orders - Indian Heritage Fashion{% endblock %}

{% block content %}
<div class="page-header" style="padding: 3rem 0;">
    <div class="container">
        <h1>My Orders</h1>
        <p>Track and manage your orders</p>
    </div>
</div>

<div class="container" style="padding: 4rem 0;">
    {% if orders.items %}
        <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            {% for order in orders.items %}
                <div style="padding: 1.5rem; border: 1px solid #edf2f4; border-radius: 8px; margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                        <div>
                            <h3 style="margin-bottom: 0.5rem;">Order #{{ order.order_number }}</h3>
                            <p style="color: #8d99ae; margin: 0;">{{ order.created_at.strftime('%B %d, %Y at %I:%M %p') }}</p>
                        </div>
                        <span style="padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 600; 
                            {% if order.status == 'delivered' %}background: #d4edda; color: #155724;
                            {% elif order.status == 'shipped' %}background: #d1ecf1; color: #0c5460;
                            {% elif order.status == 'confirmed' %}background: #fff3cd; color: #856404;
                            {% else %}background: #f8d7da; color: #721c24;{% endif %}">
                            {{ order.status|capitalize }}
                        </span>
                    </div>
                    
                    <div style="border-top: 1px solid #edf2f4; padding-top: 1rem; margin-top: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <p style="color: #8d99ae; font-size: 0.9rem; margin-bottom: 0.3rem;">Total Amount</p>
                                <p style="font-size: 1.5rem; font-weight: bold; color: #e63946; margin: 0;">â‚¹{{ order.total_amount }}</p>
                            </div>
                            <a href="{{ url_for('user.order_detail', order_id=order.id) }}" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            
            <!-- Pagination -->
            {% if orders.pages > 1 %}
                <div style="display: flex; justify-content: center; gap: 0.5rem; margin-top: 2rem;">
                    {% if orders.has_prev %}
                        <a href="{{ url_for('user.orders', page=orders.prev_num) }}" style="padding: 0.5rem 1rem; border: 1px solid #edf2f4; border-radius: 5px; text-decoration: none; color: #2b2d42;">Previous</a>
                    {% endif %}
                    
                    <span style="padding: 0.5rem 1rem;">Page {{ orders.page }} of {{ orders.pages }}</span>
                    
                    {% if orders.has_next %}
                        <a href="{{ url_for('user.orders', page=orders.next_num) }}" style="padding: 0.5rem 1rem; border: 1px solid #edf2f4; border-radius: 5px; text-decoration: none; color: #2b2d42;">Next</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    {% else %}
        <div style="background: white; padding: 4rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center;">
            <i class="fas fa-shopping-bag" style="font-size: 5rem; color: #edf2f4; margin-bottom: 1.5rem;"></i>
            <h2 style="margin-bottom: 1rem;">No Orders Yet</h2>
            <p style="color: #8d99ae; margin-bottom: 2rem;">Start exploring our collection and place your first order!</p>
            <a href="{{ url_for('shop') }}" class="btn btn-primary">Browse Products</a>
        </div>
    {% endif %}
</div>
{% endblock %}
